import{_ as a,o as i,c as t,ag as s}from"./chunks/framework.BpBYsNc4.js";const h=JSON.parse('{"title":"Best Practices","description":"","frontmatter":{},"headers":[],"relativePath":"guide/advanced/best-practices.md","filePath":"guide/advanced/best-practices.md"}'),r={name:"guide/advanced/best-practices.md"};function o(n,e,l,c,d,u){return i(),t("div",null,[...e[0]||(e[0]=[s('<h1 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h1><p>This page collects practical recommendations for using PubSub MFE safely and efficiently in production.</p><h2 id="topic-naming" tabindex="-1">Topic Naming <a class="header-anchor" href="#topic-naming" aria-label="Permalink to &quot;Topic Naming&quot;">​</a></h2><ul><li>Use domain-oriented names: <code>domain.entity.action</code> (e.g., <code>cart.item.add</code>).</li><li>Avoid deeply nested topics unless necessary.</li><li>Reserve a small set of global topics (e.g., <code>#</code>) for cross-cutting concerns like telemetry.</li></ul><h2 id="subscription-management" tabindex="-1">Subscription Management <a class="header-anchor" href="#subscription-management" aria-label="Permalink to &quot;Subscription Management&quot;">​</a></h2><ul><li>Use <code>AbortSignal</code> for lifecycle-managed subscriptions in UI frameworks.</li><li>Prefer single wildcard subscriptions (<code>cart.#</code>) instead of many specific subscriptions.</li><li>Provide <code>context</code> when subscribing to ease debugging.</li></ul><h2 id="payload-design" tabindex="-1">Payload Design <a class="header-anchor" href="#payload-design" aria-label="Permalink to &quot;Payload Design&quot;">​</a></h2><ul><li>Keep payloads small — send IDs and small deltas instead of large objects.</li><li>Use stable schemas and include <code>schemaVersion</code> in the message envelope.</li><li>Consider storing large blobs in IndexedDB and passing references in messages.</li></ul><h2 id="adapter-transport-use" tabindex="-1">Adapter &amp; Transport Use <a class="header-anchor" href="#adapter-transport-use" aria-label="Permalink to &quot;Adapter &amp; Transport Use&quot;">​</a></h2><ul><li>Let adapters handle cross-tab/iframe transport specifics — don&#39;t reimplement transport logic in application code.</li><li>Use <code>Auto</code> transports for broad browser compatibility.</li><li>Configure batching and deduplication on adapters for high-throughput scenarios.</li></ul><h2 id="error-handling" tabindex="-1">Error Handling <a class="header-anchor" href="#error-handling" aria-label="Permalink to &quot;Error Handling&quot;">​</a></h2><ul><li>Wrap handler logic with try/catch and report errors to a centralized error collector.</li><li>Avoid mutating incoming message objects — treat them as immutable snapshots.</li></ul><h2 id="security" tabindex="-1">Security <a class="header-anchor" href="#security" aria-label="Permalink to &quot;Security&quot;">​</a></h2><ul><li>Validate messages at boundaries using JSON Schema or runtime checks.</li><li>Do not trust <code>meta.source</code> in untrusted environments—combine with origin checks.</li><li>Limit the use of <code>#</code> (global subscriptions) in public-facing bundles.</li></ul><h2 id="testing-observability" tabindex="-1">Testing &amp; Observability <a class="header-anchor" href="#testing-observability" aria-label="Permalink to &quot;Testing &amp; Observability&quot;">​</a></h2><ul><li>Add an integration test that simulates multiple tabs using the cross-tab adapter.</li><li>Use a lightweight telemetry listener during development to measure throughput and handler latencies.</li><li>Expose adapter statistics (where available) to monitor transport health.</li></ul><p>See also: <a href="/pubsub-mfe-docs/guide/advanced/performance.html">Performance Benchmarks</a> and <a href="/pubsub-mfe-docs/guide/advanced/transports.html">Transports</a>.</p>',17)])])}const m=a(r,[["render",o]]);export{h as __pageData,m as default};
