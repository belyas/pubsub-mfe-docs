import{_ as a,o as i,c as o,ag as s}from"./chunks/framework.CbQjVMS6.js";const p=JSON.parse('{"title":"Troubleshooting","description":"","frontmatter":{},"headers":[],"relativePath":"guide/advanced/troubleshooting.md","filePath":"guide/advanced/troubleshooting.md"}'),l={name:"guide/advanced/troubleshooting.md"};function t(r,e,n,c,d,u){return i(),o("div",null,[...e[0]||(e[0]=[s('<h1 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h1><p>This page lists common issues and how to diagnose/fix them when using PubSub MFE.</p><h2 id="_1-messages-not-arriving-in-other-tabs" tabindex="-1">1. Messages Not Arriving in Other Tabs <a class="header-anchor" href="#_1-messages-not-arriving-in-other-tabs" aria-label="Permalink to &quot;1. Messages Not Arriving in Other Tabs&quot;">​</a></h2><p>Possible causes:</p><ul><li>Transport not attached or failed to connect.</li><li>Channel name mismatch between tabs.</li><li>Browser does not support the preferred transport and fallback isn&#39;t configured.</li></ul><p>Diagnostics:</p><ul><li>Check adapter <code>getStats()</code> if available.</li><li>Verify the <code>channelName</code> is identical across contexts.</li><li>Open DevTools and look for transport errors.</li></ul><p>Fixes:</p><ul><li>Ensure the adapter is attached with <code>await adapter.attach(bus)</code>.</li><li>Use <code>createAutoTransport()</code> to fall back to supported transports.</li></ul><h2 id="_2-duplicate-messages" tabindex="-1">2. Duplicate Messages <a class="header-anchor" href="#_2-duplicate-messages" aria-label="Permalink to &quot;2. Duplicate Messages&quot;">​</a></h2><p>Possible causes:</p><ul><li>Multiple transports delivering the same message without deduplication.</li><li>Replay from history adapter combined with live delivery.</li></ul><p>Diagnostics:</p><ul><li>Check <code>message.id</code> and compare duplicates.</li><li>Enable deduplication in the adapter configuration.</li></ul><p>Fixes:</p><ul><li>Enable adapter-level deduplication (deduplication cache and window).</li><li>Filter replays by timestamp or use <code>schemaVersion</code> to detect replayed formats.</li></ul><h2 id="_3-slow-delivery-high-latency" tabindex="-1">3. Slow Delivery / High Latency <a class="header-anchor" href="#_3-slow-delivery-high-latency" aria-label="Permalink to &quot;3. Slow Delivery / High Latency&quot;">​</a></h2><p>Possible causes:</p><ul><li>Batching interval too long.</li><li>Heavy synchronous handlers blocking the event loop.</li><li>Transport fallback to slower mechanisms (localStorage polling).</li></ul><p>Diagnostics:</p><ul><li>Measure latency using <code>ping</code> messages (see Performance guide).</li><li>Check handler runtimes and move heavy work off the main thread.</li></ul><p>Fixes:</p><ul><li>Reduce <code>batchIntervalMs</code> or disable batching for low-latency needs.</li><li>Move heavy computation to Web Workers or backend services.</li><li>Prefer <code>BroadcastChannel</code> or <code>SharedWorker</code> transports instead of polling.</li></ul><h2 id="_4-schema-validation-failures" tabindex="-1">4. Schema Validation Failures <a class="header-anchor" href="#_4-schema-validation-failures" aria-label="Permalink to &quot;4. Schema Validation Failures&quot;">​</a></h2><p>Possible causes:</p><ul><li>Schema mismatch between publisher and subscriber.</li><li>Missing <code>schemaVersion</code> or incorrect payload shape.</li></ul><p>Diagnostics:</p><ul><li>Log failing validation errors with the message <code>id</code> and <code>topic</code>.</li><li>Compare <code>schemaVersion</code> values.</li></ul><p>Fixes:</p><ul><li>Add migration handlers to upgrade older schema versions.</li><li>Validate at publish-time and reject malformed messages.</li></ul><h2 id="_5-cross-origin-frame-communication-issues" tabindex="-1">5. Cross-Origin Frame Communication Issues <a class="header-anchor" href="#_5-cross-origin-frame-communication-issues" aria-label="Permalink to &quot;5. Cross-Origin Frame Communication Issues&quot;">​</a></h2><p>Possible causes:</p><ul><li>postMessage origin restrictions.</li><li>iframe not granting required permissions.</li></ul><p>Diagnostics:</p><ul><li>Check browser console for security errors.</li><li>Inspect <code>postMessage</code> event origins.</li></ul><p>Fixes:</p><ul><li>Use explicit <code>targetOrigin</code> in <code>postMessage</code> where possible.</li><li>Implement an initial handshake between host and iframe to agree on channel names and allowed sources.</li></ul><h2 id="when-to-file-an-issue" tabindex="-1">When to File an Issue <a class="header-anchor" href="#when-to-file-an-issue" aria-label="Permalink to &quot;When to File an Issue&quot;">​</a></h2><p>If you encounter a reproducible bug that you cannot fix, please open an issue with:</p><ul><li>Minimal reproduction steps</li><li>Environment details (browser, version)</li><li>Adapter/transport configuration sample</li><li>Relevant logs or stack traces</li></ul><p>See also: <a href="/guide/advanced/best-practices.html">Best Practices</a> and <a href="/guide/advanced/performance.html">Performance Benchmarks</a>.</p>',41)])])}const m=a(l,[["render",t]]);export{p as __pageData,m as default};
