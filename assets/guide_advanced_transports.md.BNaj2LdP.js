import{_ as s,o as e,c as i,ag as t}from"./chunks/framework.DIuosjGo.js";const k=JSON.parse('{"title":"Transports","description":"","frontmatter":{},"headers":[],"relativePath":"guide/advanced/transports.md","filePath":"guide/advanced/transports.md"}'),r={name:"guide/advanced/transports.md"};function n(o,a,l,p,h,d){return e(),i("div",null,[...a[0]||(a[0]=[t(`<h1 id="transports" tabindex="-1">Transports <a class="header-anchor" href="#transports" aria-label="Permalink to &quot;Transports&quot;">​</a></h1><p>Transports are the low-level channel implementations that move messages between contexts (tabs, iframes, workers). PubSub MFE provides a flexible adapter layer so you can choose the best transport for your application environment.</p><h2 id="transport-types" tabindex="-1">Transport Types <a class="header-anchor" href="#transport-types" aria-label="Permalink to &quot;Transport Types&quot;">​</a></h2><ul><li>BroadcastChannel — fastest and simplest for modern browsers.</li><li>SharedWorker — robust, centralized broker for multiple tabs (good for heavy workloads).</li><li>LocalStorage / postMessage — compatibility fallbacks for older browsers.</li><li>Auto — a smart transport that selects the best available option and falls back gracefully.</li></ul><h2 id="choosing-a-transport" tabindex="-1">Choosing a Transport <a class="header-anchor" href="#choosing-a-transport" aria-label="Permalink to &quot;Choosing a Transport&quot;">​</a></h2><ul><li>Prefer <code>BroadcastChannel</code> when available — low latency, simple API.</li><li>Use <code>SharedWorker</code> when you need a centralized broker and more control over message flow and batching.</li><li>Use <code>Auto</code> for libraries that need broad compatibility; it selects the best supported transport at runtime.</li></ul><h2 id="example-using-a-transport-directly" tabindex="-1">Example: Using a Transport Directly <a class="header-anchor" href="#example-using-a-transport-directly" aria-label="Permalink to &quot;Example: Using a Transport Directly&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createPubSub } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@belyas/pubsub-mfe&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createBroadcastChannelTransport</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@belyas/pubsub-mfe/adapters/cross-tab/transports/broadcast-channel&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> bus</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createPubSub</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> transport</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createBroadcastChannelTransport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ channelName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my-app&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Attach transport to an adapter (if using the cross-tab adapter)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Most apps use the cross-tab adapter rather than managing transports directly</span></span></code></pre></div><h2 id="transport-configuration-options" tabindex="-1">Transport Configuration Options <a class="header-anchor" href="#transport-configuration-options" aria-label="Permalink to &quot;Transport Configuration Options&quot;">​</a></h2><p>Typical transport options include:</p><ul><li><code>channelName</code> — unique name for your app channel</li><li><code>debug?: boolean;</code> — enable debugging mode</li><li><code>onError?: (error: Error) =&gt; void | undefined;</code> — erorr handling</li></ul><h2 id="reliability-deduplication" tabindex="-1">Reliability &amp; Deduplication <a class="header-anchor" href="#reliability-deduplication" aria-label="Permalink to &quot;Reliability &amp; Deduplication&quot;">​</a></h2><p>Transports should implement deduplication and ordering where possible. The adapters in PubSub MFE add an extra deduplication layer to protect against duplicate delivery across transports.</p><h2 id="security-considerations" tabindex="-1">Security Considerations <a class="header-anchor" href="#security-considerations" aria-label="Permalink to &quot;Security Considerations&quot;">​</a></h2><ul><li>Transports may expose messages to other origins or frames; validate and filter messages at the adapter boundary.</li><li>Use <code>meta.source</code> and optional signing at boundaries when communicating with untrusted frames or third-party scripts.</li></ul><p>See also: <a href="/pubsub-mfe-docs/guide/adapters/cross-tab.html">Cross-Tab Adapter</a> and <a href="/pubsub-mfe-docs/guide/advanced/performance.html">Performance Benchmarks</a>.</p>`,16)])])}const u=s(r,[["render",n]]);export{k as __pageData,u as default};
